"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql = require("graphql");
const metadata_builder_1 = require("../metadata-builder");
const object_type_factory_1 = require("./object.type-factory");
function unionTypeFactory(target, isInput) {
    return metadata_builder_1.getMetadataBuilder().buildUnionTypeMetadata(target)
        .map(metadata => {
        return new graphql.GraphQLUnionType({
            description: metadata.description,
            name: metadata.name,
            resolveType: metadata.resolver,
            types: metadata.types
                .map(type => object_type_factory_1.objectTypeFactory(type, isInput))
                .filter(_ => _),
        });
    })
        .find((_, index) => index === 0);
}
exports.unionTypeFactory = unionTypeFactory;
//# sourceMappingURL=union.type-factory.js.map